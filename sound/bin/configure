#!/bin/sh


die() {
  printf "error: %s\n" "$1"
  exit 1
}

check_pc() {
  printf "checking for pkg-config..."
  if command -v pkg-config >/dev/null; then
    echo yes
  else
    echo no
    die "pkg-config not found."
  fi
}

check_pc

printf "checking for sdl2..."

if ! pkg-config sdl2; then
  echo "no"
  die "please make sure sdl2 is installed."
fi

echo "yes"
SDL_CFLAGS=$(pkg-config --cflags sdl2)
SDL_LDLIBS=$(pkg-config --libs sdl2)

cat <<EOF > config.mk
SDL_CFLAGS=${SDL_CFLAGS}
SDL_LDLIBS=${SDL_LDLIBS}

EOF
